import V from"./DOsIqfUM.js";import{a as Z,J as T,r as _,K as ee,L as te,M as ae,N as se,E as K,O as W,P as re,Q as g,I as ne,R as oe,t as m,v as B,x as w,z as $,S as A,T as q,U as J,y as I,i as G,V as C,W as ie,X as le,q as ce,Y as z,Z as H,$ as U,o as ue}from"./DEoZzyV_.js";const Y=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function de(a,s){s?s={...Y,...s}:s=Y;const r=Q(s);return r.dispatch(a),r.toString()}const he=Object.freeze(["prototype","__proto__","constructor"]);function Q(a){let s="",r=new Map;const t=e=>{s+=e};return{toString(){return s},getContext(){return r},dispatch(e){return a.replacer&&(e=a.replacer(e)),this[e===null?"null":typeof e](e)},object(e){if(e&&typeof e.toJSON=="function")return this.object(e.toJSON());const n=Object.prototype.toString.call(e);let o="";const d=n.length;d<10?o="unknown:["+n+"]":o=n.slice(8,d-1),o=o.toLowerCase();let i=null;if((i=r.get(e))===void 0)r.set(e,r.size);else return this.dispatch("[CIRCULAR:"+i+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(e))return t("buffer:"),t(e.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](e):a.ignoreUnknown||this.unkown(e,o);else{let u=Object.keys(e);a.unorderedObjects&&(u=u.sort());let h=[];a.respectType!==!1&&!j(e)&&(h=he),a.excludeKeys&&(u=u.filter(l=>!a.excludeKeys(l)),h=h.filter(l=>!a.excludeKeys(l))),t("object:"+(u.length+h.length)+":");const c=l=>{this.dispatch(l),t(":"),a.excludeValues||this.dispatch(e[l]),t(",")};for(const l of u)c(l);for(const l of h)c(l)}},array(e,n){if(n=n===void 0?a.unorderedArrays!==!1:n,t("array:"+e.length+":"),!n||e.length<=1){for(const i of e)this.dispatch(i);return}const o=new Map,d=e.map(i=>{const u=Q(a);u.dispatch(i);for(const[h,c]of u.getContext())o.set(h,c);return u.toString()});return r=o,d.sort(),this.array(d,!1)},date(e){return t("date:"+e.toJSON())},symbol(e){return t("symbol:"+e.toString())},unkown(e,n){if(t(n),!!e&&(t(":"),e&&typeof e.entries=="function"))return this.array(Array.from(e.entries()),!0)},error(e){return t("error:"+e.toString())},boolean(e){return t("bool:"+e)},string(e){t("string:"+e.length+":"),t(e)},function(e){t("fn:"),j(e)?this.dispatch("[native]"):this.dispatch(e.toString()),a.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(e.name)),a.respectFunctionProperties&&this.object(e)},number(e){return t("number:"+e)},xml(e){return t("xml:"+e.toString())},null(){return t("Null")},undefined(){return t("Undefined")},regexp(e){return t("regex:"+e.toString())},uint8array(e){return t("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},uint8clampedarray(e){return t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},int8array(e){return t("int8array:"),this.dispatch(Array.prototype.slice.call(e))},uint16array(e){return t("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},int16array(e){return t("int16array:"),this.dispatch(Array.prototype.slice.call(e))},uint32array(e){return t("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},int32array(e){return t("int32array:"),this.dispatch(Array.prototype.slice.call(e))},float32array(e){return t("float32array:"),this.dispatch(Array.prototype.slice.call(e))},float64array(e){return t("float64array:"),this.dispatch(Array.prototype.slice.call(e))},arraybuffer(e){return t("arraybuffer:"),this.dispatch(new Uint8Array(e))},url(e){return t("url:"+e.toString())},map(e){t("map:");const n=[...e];return this.array(n,a.unorderedSets!==!1)},set(e){t("set:");const n=[...e];return this.array(n,a.unorderedSets!==!1)},file(e){return t("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},blob(){if(a.ignoreUnknown)return t("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return t("domwindow")},bigint(e){return t("bigint:"+e.toString())},process(){return t("process")},timer(){return t("timer")},pipe(){return t("pipe")},tcp(){return t("tcp")},udp(){return t("udp")},tty(){return t("tty")},statwatcher(){return t("statwatcher")},securecontext(){return t("securecontext")},connection(){return t("connection")},zlib(){return t("zlib")},context(){return t("context")},nodescript(){return t("nodescript")},httpparser(){return t("httpparser")},dataview(){return t("dataview")},signal(){return t("signal")},fsevent(){return t("fsevent")},tlswrap(){return t("tlswrap")}}}const X="[native code] }",fe=X.length;function j(a){return typeof a!="function"?!1:Function.prototype.toString.call(a).slice(-fe)===X}var pe=Object.defineProperty,ye=(a,s,r)=>s in a?pe(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,O=(a,s,r)=>(ye(a,typeof s!="symbol"?s+"":s,r),r);class S{constructor(s,r){O(this,"words"),O(this,"sigBytes"),s=this.words=s||[],this.sigBytes=r===void 0?s.length*4:r}toString(s){return(s||ge).stringify(this)}concat(s){if(this.clamp(),this.sigBytes%4)for(let r=0;r<s.sigBytes;r++){const t=s.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=t<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<s.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=s.words[r>>>2];return this.sigBytes+=s.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new S([...this.words])}}const ge={stringify(a){const s=[];for(let r=0;r<a.sigBytes;r++){const t=a.words[r>>>2]>>>24-r%4*8&255;s.push((t>>>4).toString(16),(t&15).toString(16))}return s.join("")}},me={stringify(a){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[];for(let t=0;t<a.sigBytes;t+=3){const e=a.words[t>>>2]>>>24-t%4*8&255,n=a.words[t+1>>>2]>>>24-(t+1)%4*8&255,o=a.words[t+2>>>2]>>>24-(t+2)%4*8&255,d=e<<16|n<<8|o;for(let i=0;i<4&&t*8+i*6<a.sigBytes*8;i++)r.push(s.charAt(d>>>6*(3-i)&63))}return r.join("")}},ke={parse(a){const s=a.length,r=[];for(let t=0;t<s;t++)r[t>>>2]|=(a.charCodeAt(t)&255)<<24-t%4*8;return new S(r,s)}},xe={parse(a){return ke.parse(unescape(encodeURIComponent(a)))}};class ve{constructor(){O(this,"_data",new S),O(this,"_nDataBytes",0),O(this,"_minBufferSize",0),O(this,"blockSize",512/32)}reset(){this._data=new S,this._nDataBytes=0}_append(s){typeof s=="string"&&(s=xe.parse(s)),this._data.concat(s),this._nDataBytes+=s.sigBytes}_doProcessBlock(s,r){}_process(s){let r,t=this._data.sigBytes/(this.blockSize*4);s?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const e=t*this.blockSize,n=Math.min(e*4,this._data.sigBytes);if(e){for(let o=0;o<e;o+=this.blockSize)this._doProcessBlock(this._data.words,o);r=this._data.words.splice(0,e),this._data.sigBytes-=n}return new S(r,n)}}class we extends ve{update(s){return this._append(s),this._process(),this}finalize(s){s&&this._append(s)}}var be=Object.defineProperty,Be=(a,s,r)=>s in a?be(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,_e=(a,s,r)=>(Be(a,s+"",r),r);const L=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ae=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],M=[];class De extends we{constructor(){super(...arguments),_e(this,"_hash",new S([...L]))}reset(){super.reset(),this._hash=new S([...L])}_doProcessBlock(s,r){const t=this._hash.words;let e=t[0],n=t[1],o=t[2],d=t[3],i=t[4],u=t[5],h=t[6],c=t[7];for(let l=0;l<64;l++){if(l<16)M[l]=s[r+l]|0;else{const f=M[l-15],P=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,b=M[l-2],N=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;M[l]=P+M[l-7]+N+M[l-16]}const v=i&u^~i&h,p=e&n^e&o^n&o,D=(e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22),y=(i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25),k=c+y+v+Ae[l]+M[l],x=D+p;c=h,h=u,u=i,i=d+k|0,d=o,o=n,n=e,e=k+x|0}t[0]=t[0]+e|0,t[1]=t[1]+n|0,t[2]=t[2]+o|0,t[3]=t[3]+d|0,t[4]=t[4]+i|0,t[5]=t[5]+u|0,t[6]=t[6]+h|0,t[7]=t[7]+c|0}finalize(s){super.finalize(s);const r=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(r/4294967296),this._data.words[(t+64>>>9<<4)+15]=r,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function Se(a){return new De().finalize(a).toString(me)}function Pe(a,s={}){const r=typeof a=="string"?a:de(a,s);return Se(r).slice(0,10)}const Me=[{id:1,title:"Greetings",conversation:[{speaker:"A",text:"Hi! How are you?",translation:"å—¨ï¼ä½ å¥½å—ï¼Ÿ"},{speaker:"B",text:"I am good, thank you. How about you?",translation:"æˆ‘å¾ˆå¥½ï¼Œè°¢è°¢ã€‚ä½ å‘¢ï¼Ÿ"},{speaker:"A",text:"I am fine. Nice to see you!",translation:"æˆ‘å¾ˆå¥½ã€‚å¾ˆé«˜å…´è§åˆ°ä½ ï¼"},{speaker:"B",text:"Nice to see you too!",translation:"æˆ‘ä¹Ÿå¾ˆé«˜å…´è§åˆ°ä½ ï¼"},{speaker:"A",text:"Are you having a good day?",translation:"ä½ ä»Šå¤©è¿‡å¾—å¥½å—ï¼Ÿ"},{speaker:"B",text:"Yes, it's been wonderful!",translation:"æ˜¯çš„ï¼Œå¾ˆç²¾å½©ï¼"}]},{id:2,title:"Introducing Yourself",conversation:[{speaker:"A",text:"What is your name?",translation:"ä½ å«ä»€ä¹ˆåå­—ï¼Ÿ"},{speaker:"B",text:"My name is Anna. What is your name?",translation:"æˆ‘å«å®‰å¨œã€‚ä½ å«ä»€ä¹ˆåå­—ï¼Ÿ"},{speaker:"A",text:"I am John. Nice to meet you!",translation:"æˆ‘æ˜¯çº¦ç¿°ã€‚å¾ˆé«˜å…´è®¤è¯†ä½ ï¼"},{speaker:"B",text:"Nice to meet you too!",translation:"æˆ‘ä¹Ÿå¾ˆé«˜å…´è®¤è¯†ä½ ï¼"},{speaker:"A",text:"Where are you from, Anna?",translation:"å®‰å¨œï¼Œä½ æ¥è‡ªå“ªé‡Œï¼Ÿ"},{speaker:"B",text:"I'm from Canada. How about you?",translation:"æˆ‘æ¥è‡ªåŠ æ‹¿å¤§ã€‚ä½ å‘¢ï¼Ÿ"}]},{id:3,title:"Talking About Family",conversation:[{speaker:"A",text:"Do you have a family?",translation:"ä½ æœ‰å®¶äººå—ï¼Ÿ"},{speaker:"B",text:"Yes, I have a mother, father, and one sister.",translation:"æ˜¯çš„ï¼Œæˆ‘æœ‰å¦ˆå¦ˆã€çˆ¸çˆ¸å’Œä¸€ä¸ªå¦¹å¦¹ã€‚"},{speaker:"A",text:"That is nice. I have two brothers.",translation:"é‚£å¾ˆå¥½ã€‚æˆ‘æœ‰ä¸¤ä¸ªå…„å¼Ÿã€‚"},{speaker:"B",text:"Do you live with them?",translation:"ä½ å’Œä»–ä»¬ä½åœ¨ä¸€èµ·å—ï¼Ÿ"},{speaker:"A",text:"Yes, we live in a big house.",translation:"æ˜¯çš„ï¼Œæˆ‘ä»¬ä½åœ¨ä¸€ä¸ªå¤§æˆ¿å­é‡Œã€‚"},{speaker:"B",text:"That sounds wonderful!",translation:"å¬èµ·æ¥å¾ˆæ£’ï¼"}]},{id:4,title:"Asking for Directions",conversation:[{speaker:"A",text:"Excuse me, where is the store?",translation:"å¯¹ä¸èµ·ï¼Œè¯·é—®å•†åº—åœ¨å“ªé‡Œï¼Ÿ"},{speaker:"B",text:"It is over there, near the park.",translation:"å°±åœ¨é‚£è¾¹ï¼Œå…¬å›­é™„è¿‘ã€‚"},{speaker:"A",text:"Thank you! Is it far?",translation:"è°¢è°¢ï¼è¿œå—ï¼Ÿ"},{speaker:"B",text:"No, it is not far. You can walk there.",translation:"ä¸è¿œï¼Œä½ å¯ä»¥èµ°ç€åŽ»ã€‚"},{speaker:"A",text:"How long will it take?",translation:"éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ"},{speaker:"B",text:"About five minutes by walking.",translation:"èµ°è·¯å¤§çº¦äº”åˆ†é’Ÿã€‚"}]},{id:5,title:"Ordering Food",conversation:[{speaker:"A",text:"What do you want to eat?",translation:"ä½ æƒ³åƒä»€ä¹ˆï¼Ÿ"},{speaker:"B",text:"I want a sandwich and some water.",translation:"æˆ‘æƒ³è¦ä¸€ä¸ªä¸‰æ˜Žæ²»å’Œä¸€äº›æ°´ã€‚"},{speaker:"A",text:"I will have the same. Do you like the food here?",translation:"æˆ‘ä¹Ÿè¦ä¸€æ ·çš„ã€‚ä½ å–œæ¬¢è¿™é‡Œçš„é£Ÿç‰©å—ï¼Ÿ"},{speaker:"B",text:"Yes, it is very good.",translation:"æ˜¯çš„ï¼Œå¾ˆå¥½åƒã€‚"},{speaker:"A",text:"Would you like anything else?",translation:"ä½ è¿˜æƒ³è¦å…¶ä»–çš„å—ï¼Ÿ"},{speaker:"B",text:"No, thank you. This is enough.",translation:"ä¸ç”¨äº†ï¼Œè°¢è°¢ã€‚è¿™äº›å°±å¤Ÿäº†ã€‚"}]},{id:6,title:"Talking About the Weather",conversation:[{speaker:"A",text:"How is the weather today?",translation:"ä»Šå¤©å¤©æ°”æ€Žä¹ˆæ ·ï¼Ÿ"},{speaker:"B",text:"It is sunny and warm.",translation:"å¤©æ°”æ™´æœ—æ¸©æš–ã€‚"},{speaker:"A",text:"I like this weather. Do you?",translation:"æˆ‘å–œæ¬¢è¿™æ ·çš„å¤©æ°”ã€‚ä½ å‘¢ï¼Ÿ"},{speaker:"B",text:"Yes, I love it!",translation:"æ˜¯çš„ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼"},{speaker:"A",text:"Perfect day for a walk outside!",translation:"æ˜¯ä¸ªå‡ºåŽ»æ•£æ­¥çš„å¥½å¤©æ°”ï¼"},{speaker:"B",text:"You're right! Let's go together.",translation:"ä½ è¯´å¾—å¯¹ï¼æˆ‘ä»¬ä¸€èµ·åŽ»å§ã€‚"}]},{id:7,title:"Making Plans",conversation:[{speaker:"A",text:"What do you want to do today?",translation:"ä»Šå¤©ä½ æƒ³åšä»€ä¹ˆï¼Ÿ"},{speaker:"B",text:"Let's go to the park.",translation:"æˆ‘ä»¬åŽ»å…¬å›­å§ã€‚"},{speaker:"A",text:"That sounds fun! Can we go now?",translation:"å¬èµ·æ¥å¾ˆæœ‰è¶£ï¼æˆ‘ä»¬çŽ°åœ¨èƒ½åŽ»å—ï¼Ÿ"},{speaker:"B",text:"Yes, let's go!",translation:"å¥½çš„ï¼Œæˆ‘ä»¬èµ°å§ï¼"},{speaker:"A",text:"Should we bring some snacks?",translation:"æˆ‘ä»¬è¦å¸¦äº›é›¶é£Ÿå—ï¼Ÿ"},{speaker:"B",text:"Good idea! I'll pack some sandwiches.",translation:"å¥½ä¸»æ„ï¼æˆ‘æ¥å‡†å¤‡äº›ä¸‰æ˜Žæ²»ã€‚"}]},{id:8,title:"Shopping",conversation:[{speaker:"A",text:"How much is this shirt?",translation:"è¿™ä»¶è¡¬è¡«å¤šå°‘é’±ï¼Ÿ"},{speaker:"B",text:"It is ten dollars.",translation:"åç¾Žå…ƒã€‚"},{speaker:"A",text:"Do you have it in a smaller size?",translation:"ä½ ä»¬æœ‰å°ä¸€ç‚¹çš„å°ºç å—ï¼Ÿ"},{speaker:"B",text:"Yes, here you go.",translation:"æ˜¯çš„ï¼Œç»™ä½ ã€‚"},{speaker:"A",text:"Can I try it on?",translation:"æˆ‘å¯ä»¥è¯•ç©¿å—ï¼Ÿ"},{speaker:"B",text:"Of course, the fitting room is over there.",translation:"å½“ç„¶å¯ä»¥ï¼Œè¯•è¡£é—´åœ¨é‚£è¾¹ã€‚"}]},{id:9,title:"Talking About Hobbies",conversation:[{speaker:"A",text:"What do you like to do?",translation:"ä½ å–œæ¬¢åšä»€ä¹ˆï¼Ÿ"},{speaker:"B",text:"I like to read books and play games.",translation:"æˆ‘å–œæ¬¢è¯»ä¹¦å’ŒçŽ©æ¸¸æˆã€‚"},{speaker:"A",text:"That sounds fun. I like to watch movies.",translation:"å¬èµ·æ¥å¾ˆæœ‰è¶£ã€‚æˆ‘å–œæ¬¢çœ‹ç”µå½±ã€‚"},{speaker:"B",text:"We should watch a movie together!",translation:"æˆ‘ä»¬åº”è¯¥ä¸€èµ·çœ‹ç”µå½±ï¼"}]},{id:10,title:"Saying Goodbye",conversation:[{speaker:"A",text:"It was nice talking to you.",translation:"å¾ˆé«˜å…´å’Œä½ èŠå¤©ã€‚"},{speaker:"B",text:"Yes, it was nice talking to you too.",translation:"æ˜¯çš„ï¼Œæˆ‘ä¹Ÿå¾ˆé«˜å…´å’Œä½ èŠå¤©ã€‚"},{speaker:"A",text:"I hope we can meet again soon.",translation:"å¸Œæœ›æˆ‘ä»¬èƒ½å¾ˆå¿«å†è§ã€‚"},{speaker:"B",text:"Me too! Have a great day!",translation:"æˆ‘ä¹Ÿæ˜¯ï¼ç¥ä½ æœ‰æ„‰å¿«çš„ä¸€å¤©ï¼"},{speaker:"A",text:"See you later!",translation:"å†è§ï¼"},{speaker:"B",text:"See you!",translation:"å†è§ï¼"}]},{id:11,title:"Asking for Help",conversation:[{speaker:"A",text:"Can you help me, please?",translation:"è¯·é—®ä½ èƒ½å¸®æˆ‘å—ï¼Ÿ"},{speaker:"B",text:"Of course! What do you need?",translation:"å½“ç„¶å¯ä»¥ï¼ä½ éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Ÿ"},{speaker:"A",text:"I need to find the bus stop.",translation:"æˆ‘éœ€è¦æ‰¾åˆ°å…¬äº¤è½¦ç«™ã€‚"},{speaker:"B",text:"It is just around the corner.",translation:"å°±åœ¨æ‹è§’å¤„ã€‚"},{speaker:"A",text:"Thank you so much for your help!",translation:"éžå¸¸æ„Ÿè°¢ä½ çš„å¸®åŠ©ï¼"},{speaker:"B",text:"You're welcome! Have a good day!",translation:"ä¸å®¢æ°”ï¼ç¥ä½ æœ‰æ„‰å¿«çš„ä¸€å¤©ï¼"}]},{id:12,title:"Talking About Work",conversation:[{speaker:"A",text:"Where do you work?",translation:"ä½ åœ¨å“ªé‡Œå·¥ä½œï¼Ÿ"},{speaker:"B",text:"I work at a school. What about you?",translation:"æˆ‘åœ¨å­¦æ ¡å·¥ä½œã€‚ä½ å‘¢ï¼Ÿ"},{speaker:"A",text:"I work at a store. Do you like your job?",translation:"æˆ‘åœ¨å•†åº—å·¥ä½œã€‚ä½ å–œæ¬¢ä½ çš„å·¥ä½œå—ï¼Ÿ"},{speaker:"B",text:"Yes, I love it!",translation:"æ˜¯çš„ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼"},{speaker:"A",text:"What do you teach at school?",translation:"ä½ åœ¨å­¦æ ¡æ•™ä»€ä¹ˆï¼Ÿ"},{speaker:"B",text:"I teach English to young students.",translation:"æˆ‘æ•™å°å­¦ç”Ÿè‹±è¯­ã€‚"}]},{id:13,title:"Talking About Time",conversation:[{speaker:"A",text:"What time is it?",translation:"çŽ°åœ¨å‡ ç‚¹äº†ï¼Ÿ"},{speaker:"B",text:"It is three o'clock.",translation:"çŽ°åœ¨ä¸‰ç‚¹é’Ÿã€‚"},{speaker:"A",text:"Oh no, I am late!",translation:"å“¦ä¸ï¼Œæˆ‘è¿Ÿåˆ°äº†ï¼"},{speaker:"B",text:"Don't worry, you have time.",translation:"åˆ«æ‹…å¿ƒï¼Œä½ è¿˜æœ‰æ—¶é—´ã€‚"},{speaker:"A",text:"Are you sure? My meeting is at 3:30.",translation:"ä½ ç¡®å®šå—ï¼Ÿæˆ‘çš„ä¼šè®®æ˜¯3:30ã€‚"},{speaker:"B",text:"Yes, you still have 30 minutes.",translation:"æ˜¯çš„ï¼Œä½ è¿˜æœ‰30åˆ†é’Ÿã€‚"}]},{id:14,title:"Talking About Feelings",conversation:[{speaker:"A",text:"How do you feel today?",translation:"ä½ ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ"},{speaker:"B",text:"I feel happy. How about you?",translation:"æˆ‘æ„Ÿè§‰å¾ˆå¼€å¿ƒã€‚ä½ å‘¢ï¼Ÿ"},{speaker:"A",text:"I feel tired, but I am okay.",translation:"æˆ‘æ„Ÿè§‰æœ‰ç‚¹ç´¯ï¼Œä½†è¿˜å¥½ã€‚"},{speaker:"B",text:"You should rest.",translation:"ä½ åº”è¯¥ä¼‘æ¯ä¸€ä¸‹ã€‚"},{speaker:"A",text:"Maybe you're right. I worked a lot today.",translation:"ä¹Ÿè®¸ä½ è¯´å¾—å¯¹ã€‚æˆ‘ä»Šå¤©å·¥ä½œå¾ˆå¤šã€‚"},{speaker:"B",text:"Take care of yourself!",translation:"ç…§é¡¾å¥½è‡ªå·±ï¼"}]},{id:15,title:"Talking About Food",conversation:[{speaker:"A",text:"Do you like pizza?",translation:"ä½ å–œæ¬¢æŠ«è¨å—ï¼Ÿ"},{speaker:"B",text:"Yes, I love pizza! Do you?",translation:"æ˜¯çš„ï¼Œæˆ‘å¾ˆå–œæ¬¢æŠ«è¨ï¼ä½ å‘¢ï¼Ÿ"},{speaker:"A",text:"Yes, it is my favorite food.",translation:"æ˜¯çš„ï¼Œè¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„é£Ÿç‰©ã€‚"},{speaker:"B",text:"Let's eat some together!",translation:"æˆ‘ä»¬ä¸€èµ·åƒå§ï¼"},{speaker:"A",text:"Which pizza topping do you prefer?",translation:"ä½ å–œæ¬¢ä»€ä¹ˆå£å‘³çš„æŠ«è¨ï¼Ÿ"},{speaker:"B",text:"I love pepperoni and cheese!",translation:"æˆ‘å–œæ¬¢æ„å¤§åˆ©é¦™è‚ å’Œå¥¶é…ªï¼"}]}],Ce={dialogues:Me},Ie=a=>a==="defer"||a===!1;function Te(...a){var D;const s=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(s);let[r,t,e={}]=a;if(typeof r!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const n=Z(),o=t,d=()=>T.value,i=()=>n.isHydrating?n.payload.data[r]:n.static.data[r];e.server=e.server??!0,e.default=e.default??d,e.getCachedData=e.getCachedData??i,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??T.deep,e.dedupe=e.dedupe??"cancel";const u=e.getCachedData(r,n),h=u!=null;if(!n._asyncData[r]||!e.immediate){(D=n.payload._errors)[r]??(D[r]=T.errorValue);const y=e.deep?_:ee;n._asyncData[r]={data:y(h?u:e.default()),pending:_(!h),error:te(n.payload._errors,r),status:_("idle"),_default:e.default}}const c={...n._asyncData[r]};delete c._default,c.refresh=c.execute=(y={})=>{if(n._asyncDataPromises[r]){if(Ie(y.dedupe??e.dedupe))return n._asyncDataPromises[r];n._asyncDataPromises[r].cancelled=!0}if(y._initial||n.isHydrating&&y._initial!==!1){const x=y._initial?u:e.getCachedData(r,n);if(x!=null)return Promise.resolve(x)}c.pending.value=!0,c.status.value="pending";const k=new Promise((x,f)=>{try{x(o(n))}catch(P){f(P)}}).then(async x=>{if(k.cancelled)return n._asyncDataPromises[r];let f=x;e.transform&&(f=await e.transform(x)),e.pick&&(f=ze(f,e.pick)),n.payload.data[r]=f,c.data.value=f,c.error.value=T.errorValue,c.status.value="success"}).catch(x=>{if(k.cancelled)return n._asyncDataPromises[r];c.error.value=re(x),c.data.value=g(e.default()),c.status.value="error"}).finally(()=>{k.cancelled||(c.pending.value=!1,delete n._asyncDataPromises[r])});return n._asyncDataPromises[r]=k,n._asyncDataPromises[r]},c.clear=()=>Oe(n,r);const l=()=>c.refresh({_initial:!0}),v=e.server!==!1&&n.payload.serverRendered;{const y=ne();if(y&&v&&e.immediate&&!y.sp&&(y.sp=[]),y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const f=y._nuxtOnBeforeMountCbs;ae(()=>{f.forEach(P=>{P()}),f.splice(0,f.length)}),se(()=>f.splice(0,f.length))}v&&n.isHydrating&&(c.error.value||u!=null)?(c.pending.value=!1,c.status.value=c.error.value?"error":"success"):y&&(n.payload.serverRendered&&n.isHydrating||e.lazy)&&e.immediate?y._nuxtOnBeforeMountCbs.push(l):e.immediate&&l();const k=oe();if(e.watch){const f=K(e.watch,()=>c.refresh());k&&W(f)}const x=n.hook("app:data:refresh",async f=>{(!f||f.includes(r))&&await c.refresh()});k&&W(x)}const p=Promise.resolve(n._asyncDataPromises[r]).then(()=>c);return Object.assign(p,c),p}function Oe(a,s){s in a.payload.data&&(a.payload.data[s]=void 0),s in a.payload._errors&&(a.payload._errors[s]=T.errorValue),a._asyncData[s]&&(a._asyncData[s].data.value=void 0,a._asyncData[s].error.value=T.errorValue,a._asyncData[s].pending.value=!1,a._asyncData[s].status.value="idle"),s in a._asyncDataPromises&&(a._asyncDataPromises[s]&&(a._asyncDataPromises[s].cancelled=!0),a._asyncDataPromises[s]=void 0)}function ze(a,s){const r={};for(const t of s)r[t]=a[t];return r}const $e={class:"fixed left-0 top-0 h-full z-50"},Re={class:"relative"},He={class:"relative mb-6 mt-16"},Ne={class:"space-y-2"},Fe=["onClick"],Ee={__name:"Sidebar",props:{dialogues:{type:Array,required:!0},selectedDialogueId:{type:Number,default:null}},setup(a){const s=_(!1),r=()=>{s.value=!s.value};return(t,e)=>{const n=V;return m(),B("div",$e,[w("button",{onClick:r,class:"fixed right-4 top-4 p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 z-[100] bg-white shadow-md"},[$(n,{name:s.value?"material-symbols:menu":"material-symbols:close",class:"h-6 w-6"},null,8,["name"])]),w("div",{class:A(["bg-white border-r border-gray-200 h-full overflow-y-auto transition-all duration-300 ease-in-out",s.value?"w-0 p-0":"w-[300px] p-4"])},[w("div",Re,[w("div",He,[w("h1",{class:A(["text-2xl font-bold text-primary transition-opacity duration-300 text-center",{"opacity-0":s.value}])}," Moi ",2)])]),w("div",Ne,[(m(!0),B(q,null,J(a.dialogues,o=>(m(),B("button",{key:o.id,onClick:d=>t.$emit("select",o),class:A(["text-left p-3 rounded-lg transition-all duration-200 ease-in-out",{"bg-primary/10 text-primary":a.selectedDialogueId===o.id,"hover:bg-gray-100":a.selectedDialogueId!==o.id,"w-full":!s.value,"w-8":s.value}])},I(o.title),11,Fe))),128))])],2)])}}};function We(a,s,r){const[t={},e]=typeof s=="string"?[{},s]:[s,r],n=G(()=>C(a)),o=t.key||Pe([e,typeof n.value=="string"?n.value:"",...Ue(t)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);const d=o===e?"$f"+o:o;if(!t.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:i,lazy:u,default:h,transform:c,pick:l,watch:v,immediate:p,getCachedData:D,deep:y,dedupe:k,...x}=t,f=ie({...le,...x,cache:typeof t.cache=="boolean"?void 0:t.cache}),P={server:i,lazy:u,default:h,transform:c,pick:l,immediate:p,getCachedData:D,deep:y,dedupe:k,watch:v===!1?[]:[f,n,...v||[]]};let b;return Te(d,()=>{var E;(E=b==null?void 0:b.abort)==null||E.call(b,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),b=typeof AbortController<"u"?new AbortController:{};const F=C(t.timeout);let R;return F&&(R=setTimeout(()=>b.abort(new DOMException("Request aborted due to timeout.","AbortError")),F),b.signal.onabort=()=>clearTimeout(R)),(t.$fetch||globalThis.$fetch)(n.value,{signal:b.signal,...f}).finally(()=>{clearTimeout(R)})},P)}function Ue(a){var r;const s=[((r=C(a.method))==null?void 0:r.toUpperCase())||"GET",C(a.baseURL)];for(const t of[a.params||a.query]){const e=C(t);if(!e)continue;const n={};for(const[o,d]of Object.entries(e))n[C(o)]=C(d);s.push(n)}return s}function Ye(){const a=_(!1),s=_(null),r=_([]),t=_(""),e=_(!1),n=async()=>{try{const i=await navigator.mediaDevices.getUserMedia({audio:!0});s.value=new MediaRecorder(i),r.value=[],a.value=!0,s.value.ondataavailable=u=>{r.value.push(u.data)},s.value.start()}catch(i){console.error("Error accessing microphone:",i)}},o=async()=>{if(s.value)return new Promise(i=>{s.value.onstop=async()=>{a.value=!1,await d(),i()},s.value.stop(),s.value.stream.getTracks().forEach(u=>u.stop())})},d=async()=>{var h,c,l,v;if(r.value.length===0)return;const i=new Blob(r.value,{type:"audio/webm"});new FormData().append("audio",i);try{e.value=!0;const p=ce(),D=await new Promise(x=>{const f=new FileReader;f.onloadend=()=>x(f.result.split(",")[1]),f.readAsDataURL(i)}),y=await We("https://speech.googleapis.com/v1/speech:recognize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:{encoding:"WEBM_OPUS",sampleRateHertz:48e3,languageCode:"en-US"},audio:{content:D}}),query:{key:p.public.googleCloudApiKey}},"$1lEASaDYD9");if(y.error.value)throw y.error.value;const k=y.data.value;if((v=(l=(c=(h=k==null?void 0:k.results)==null?void 0:h[0])==null?void 0:c.alternatives)==null?void 0:l[0])!=null&&v.transcript)t.value=k.results[0].alternatives[0].transcript;else throw new Error("No transcription results found")}catch(p){console.error("Error transcribing audio:",p),t.value=""}finally{e.value=!1}};return{isRecording:a,isTranscribing:e,transcribedText:t,startRecording:n,stopRecording:o}}const je={key:0,class:"text-gray-900"},Le={key:1,class:"absolute left-0 right-0 -bottom-8 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white text-sm rounded px-2 py-1 text-center mx-4"},Ve={key:2,class:"flex items-center space-x-3"},Ke={class:"flex-grow"},qe={key:0,class:"text-sm text-gray-500"},Je={key:1,class:"text-sm text-gray-700 relative flex items-center gap-2"},Ge={key:0,class:"flex-shrink-0"},Qe={class:"flex-grow"},Xe={key:2,class:"text-sm text-gray-400"},Ze={__name:"ChatMessage",props:{speaker:{type:String,required:!0},text:{type:String,required:!0},translation:{type:String,required:!0},isPracticeModeActive:{type:Boolean,default:!1}},emits:["speak"],setup(a,{emit:s}){const r=a,t=s,e=G(()=>{if(!d.value||!r.text)return!1;const c=l=>l.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()\?]/g,"").trim();return c(d.value)===c(r.text)}),{isRecording:n,isTranscribing:o,transcribedText:d,startRecording:i,stopRecording:u}=Ye();K(()=>r.isPracticeModeActive,c=>{c||(d.value="")});const h=()=>{(!r.isPracticeModeActive||r.speaker==="A")&&t("speak",r.text,r.speaker)};return(c,l)=>{const v=V;return m(),B("div",{class:A(["flex items-center",a.speaker==="A"?"justify-start":"justify-end"])},[w("div",{class:A(["flex items-center space-x-4 max-w-[80%]",a.speaker==="A"?"flex-row":"flex-row-reverse space-x-reverse"])},[w("div",{class:A(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-2xl",a.speaker==="A"?"bg-primary text-white":"bg-secondary text-white"])},I(a.speaker==="A"?"ðŸ‘©":"ðŸ‘¨"),3),w("div",{class:A(["flex-grow p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-colors group relative",{"bg-primary/5 shadow-sm":a.speaker==="A","bg-secondary/5 shadow-sm":a.speaker==="B"&&(!g(d)||!a.isPracticeModeActive),"bg-green-100 shadow-sm":a.speaker==="B"&&a.isPracticeModeActive&&g(d)&&e.value,"bg-red-100 shadow-sm":a.speaker==="B"&&a.isPracticeModeActive&&g(d)&&!e.value}]),onClick:h},[!a.isPracticeModeActive||a.speaker==="A"?(m(),B("p",je,I(a.text),1)):z("",!0),a.isPracticeModeActive?z("",!0):(m(),B("div",Le,I(a.translation),1)),a.isPracticeModeActive&&a.speaker!=="A"?(m(),B("div",Ve,[w("div",Ke,[g(o)?(m(),B("div",qe,"Transcribing...")):g(d)?(m(),B("div",Je,[a.isPracticeModeActive?(m(),B("div",Ge,[e.value?(m(),H(v,{key:0,name:"material-symbols:check-circle",class:"w-5 h-5 text-green-500"})):(m(),H(v,{key:1,name:"material-symbols:cancel",class:"w-5 h-5 text-red-500"}))])):z("",!0),w("div",Qe,I(g(d)),1)])):(m(),B("div",Xe,"Click and hold to record"))]),w("button",{onMousedown:l[0]||(l[0]=(...p)=>g(i)&&g(i)(...p)),onMouseup:l[1]||(l[1]=(...p)=>g(u)&&g(u)(...p)),onMouseleave:l[2]||(l[2]=(...p)=>g(u)&&g(u)(...p)),onTouchstart:l[3]||(l[3]=U((...p)=>g(i)&&g(i)(...p),["prevent"])),onTouchend:l[4]||(l[4]=U((...p)=>g(u)&&g(u)(...p),["prevent"])),class:A(["p-2 rounded-full hover:bg-blue-100 transition-colors flex-shrink-0",{"bg-red-100":g(n)}])},[$(v,{name:g(n)?"material-symbols:mic":"material-symbols:mic-outline",class:A(["w-6 h-6",{"text-red-500":g(n),"text-secondary":!g(n)}])},null,8,["name","class"])],34)])):z("",!0)],2)],2)],2)}}},et={class:"flex-1 p-8 overflow-y-auto relative"},tt={key:0,class:"max-w-3xl mx-auto"},at={class:"text-3xl font-bold text-gray-900 mb-8"},st={class:"space-y-6"},rt={class:"fixed bottom-8 right-8"},nt={__name:"DialogueView",props:{dialogue:{type:Object,default:null},isPracticeModeActive:{type:Boolean,default:!1},currentMessageIndex:{type:Number,default:0}},emits:["speak","togglePractice"],setup(a){return(s,r)=>(m(),B("div",et,[a.dialogue?(m(),B("div",tt,[w("h2",at,I(a.dialogue.title),1),w("div",st,[(m(!0),B(q,null,J(a.dialogue.conversation,(t,e)=>(m(),H(Ze,{key:e,speaker:t.speaker,text:t.text,translation:t.translation,"is-practice-mode-active":a.isPracticeModeActive,onSpeak:n=>s.$emit("speak",t.text,t.speaker)},null,8,["speaker","text","translation","is-practice-mode-active","onSpeak"]))),128))]),w("div",rt,[w("button",{onClick:r[0]||(r[0]=t=>s.$emit("togglePractice")),class:"px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-90 transition-colors shadow-lg"},I(a.isPracticeModeActive?"Exit Practice":"Start Practice"),1)])])):z("",!0)]))}},ot={class:"min-h-screen bg-gray-100 flex"},ut={__name:"index",setup(a){const s=_([]),r=_(null),t=_(!1),e=_(0);ue(()=>{s.value=Ce.dialogues,s.value.length>0&&n(s.value[0])});const n=i=>{r.value=i,t.value=!1,e.value=0},o=()=>{t.value=!t.value,e.value=0},d=(i,u)=>{window.speechSynthesis.cancel();const h=new SpeechSynthesisUtterance(i);h.lang="en-US",h.rate=.5,h.pitch=u==="A"?1.2:.8;const c=window.speechSynthesis.getVoices(),l=c.find(p=>p.name.includes("Female")||p.name.includes("Samantha")),v=c.find(p=>p.name.includes("Male")||p.name.includes("Daniel"));h.voice=u==="A"?l||null:v||null,window.speechSynthesis.speak(h)};return(i,u)=>{var h;return m(),B("div",ot,[$(Ee,{dialogues:s.value,"selected-dialogue-id":(h=r.value)==null?void 0:h.id,onSelect:n},null,8,["dialogues","selected-dialogue-id"]),$(nt,{dialogue:r.value,"is-practice-mode-active":t.value,"current-message-index":e.value,onSpeak:d,onTogglePractice:o},null,8,["dialogue","is-practice-mode-active","current-message-index"])])}}};export{ut as default};
